{% extends "proxy/base.html" %}

{% block content %}
<div class="gemini">
{% for item in content -%}
    {% if item.item_type == "h1" -%}
        <h1 id="{{ item.anchor }}">{{ item.text }}</h1>
    {% elif item.item_type == "h2" -%}
        <h2 id="{{ item.anchor }}">{{ item.text }}</h2>
    {% elif item.item_type == "h3" -%}
        <h3 id="{{ item.anchor }}">{{ item.text }}</h3>
    {% elif item.item_type == "link" -%}
        {{ item.prefix }}<a href="{{ item.url }}">{{ item.text }}</a><br/>
    {% elif item.item_type == "image" -%}
        <figure>
          <a href="{{ item.url }}"><img src="{{ item.url }}" alt="{{ item.text }}"></a>
          <figcaption>{{ item.prefix }}{{ item.text }}</figcaption>
        </figure>
    {% elif item.item_type == "pre" -%}
        <pre>{{ "\n".join(item.lines) }}</pre>
    {% elif item.item_type == "blockquote" -%}
        <blockquote>{{ "\n".join(item.lines) }}</blockquote>
    {% elif item.item_type == "ul" -%}
        <ul>
        {% for line in item.lines %}<li>{{ line }}</li>
        {% endfor %}</ul>
    {% elif item.item_type == "p" -%}
        <p>{% for line in item.lines %}{{ line }}
        {% endfor %}</p>
    {% elif item.item_type == "hr" -%}
        <hr>
    {% elif item.item_type == "prompt" -%}
        <form method="get" action="{{ item.url }}" class="input-line">
            <label>{{ item.prefix }}{{ item.text }}
                <textarea name="q" rows="1" placeholder="Enter text..."></textarea>
            </label>
            <input type="submit" value="Submit">
        </form>
    {% endif %}
{%- endfor %}
</div>
{% endblock %}
